<?xml version="1.0"?>
<launch>


  <arg name="tool_name" default="tool"/> <!-- Name of the tool we are going to use -->


  <param name="/iiwa/toolName" type="string" value="$(arg tool_name)" /> <!--Sunrise tool-->
  
  <!--  This loads the robot description  -->
  <include file="$(find iiwa_tool_moveit)/launch/moveit_planning_execution.launch">
    <arg name="sim" value="false"/>
  </include>
    
  <!-- This lauch file just loads the URDF with the given hardware interface and robot name into the ROS Parameter Server -->
  <arg name="hardware_interface" default="PositionJointInterface"/> 
  <arg name="robot_name" default="iiwa"/>
  
  <param name="robot_description" command="$(find xacro)/xacro --inorder '$(find iiwa_tool_description)/urdf/iiwa_tool.urdf.xacro' hardware_interface:=$(arg hardware_interface) robot_name:=$(arg robot_name)" />

  <arg name="model" default="iiwa7"/>  
  <arg name="robot_description" default="robot_description"/>
   <!-- The semantic description that corresponds to the URDF -->
  <param name="$(arg robot_description)_semantic" textfile="$(find iiwa_tool_moveit)/config/$(arg model)_tool.srdf" />
  
  <!-- Parameters to pass to the ROS node -->
<!--   <arg name="move_group" default="manipulator"/>
  <arg name="ee_link" default="tool_link_ee"/>
  <arg name="ros_rate" default="0.1"/>
 -->
  <!-- Here we call the ROS node we have written, with the parameters on top   -->
  <!-- <node ns="iiwa" name="CommandRobotMoveit" pkg="iiwa_tool_examples" type="command_robot_moveit" respawn="false" output="screen">
    <param name="move_group" value="$(arg move_group)"/>
    <param name="ee_link" value="$(arg ee_link)"/>
    <param name="ros_rate" value="$(arg ros_rate)"/>
  </node> -->

  <node name="iiwa_moveit" pkg="opencv" type="IIWAMoveit.py" respawn="false" output="screen"/>

</launch>